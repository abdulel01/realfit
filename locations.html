<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Zones - Fitzone Parties - Kids Party Fun!</title>
    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico" type="image/x-icon"> <!-- Placeholder: Add favicon.ico to images -->

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body data-page="locations">
    <!-- Header -->
    <header>
        <nav>
            <a href="index.html" class="logo">
                <!-- <img src="images/logo.png" alt="Fitzone Logo"> Placeholder: Add logo.png -->
                <span>Fitzone Parties</span>
            </a>
            <button class="mobile-menu-btn" aria-label="Toggle Menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
            <ul>
                <li><a href="index.html" class="nav-link" data-page="index">Home</a></li>
                <li><a href="packages.html" class="nav-link" data-page="packages">Party Packages</a></li>
                <li><a href="locations.html" class="nav-link" data-page="locations">Locations</a></li>
                <li><a href="gallery.html" class="nav-link" data-page="gallery">Gallery</a></li>
                <li><a href="summer-camp.html" class="nav-link" data-page="summer-camp">Summer Camp</a></li>
                <li><a href="contact.html" class="nav-link" data-page="contact">Contact</a></li>
                <!-- Added Book Now link -->
                <li><a href="booking.html" class="nav-link primary-btn nav-book-btn" data-page="booking">Book Now</a></li>
                <li class="auth-buttons">
                    <!-- Static demo buttons -->
                    <a href="login.html" class="login-btn">Login</a>
                    <a href="register.html" class="register-btn">Register</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Flash Messages Placeholder (can be used by JS for demo feedback) -->
    <div class="flash-messages-container" id="flash-messages"></div>

    <!-- Main Content Area -->
    <main>
        <section class="locations" style="padding-top: 100px;"> <!-- Added padding-top -->
            <h2>Explore Our Party Zones!</h2>
            <p>Find the perfect Fitzone location for your epic celebration!</p>
             <div class="location-cards">
                <!-- Location 1: Leopardstown -->
                <div class="card">
                    <img src="images/img-035.jpg" alt="Fitzone Leopardstown">
                    <h3>Fitzone Leopardstown</h3>
                    <p>Includes: Adventure Zone (4-12yrs), Giggle & Wiggle (6mths-3yrs), Go-Karts (4-12yrs)</p>
                    <p><i class="fa-solid fa-phone icon"></i> 01 2191827</p>
                    <p><i class="fa-solid fa-envelope icon"></i> leopardstown.fitzone@westwood.ie</p>
                    <!-- Pass location to booking page -->
                    <a href="booking.html?location=leopardstown" class="button">BOOK LEOPARDSTOWN</a>
                </div>

                <!-- Location 2: Clontarf -->
                <div class="card">
                    <img src="images/img-042.jpg" alt="Fitzone Clontarf">
                    <h3>Fitzone Clontarf</h3>
                    <p>Includes: Adventure Zone (4-12yrs), Toddler Area (1-4yrs)</p>
                    <p><i class="fa-solid fa-phone icon"></i> 01 8530353</p>
                    <p><i class="fa-solid fa-envelope icon"></i> clontarf.fitzone@westwood.ie</p>
                    <a href="booking.html?location=clontarf" class="button">BOOK CLONTARF</a>
                </div>

                <!-- Location 3: Westmanstown -->
                <div class="card">
                    <img src="images/img-049.jpg" alt="Fitzone Westmanstown">
                    <h3>Fitzone Westmanstown</h3>
                    <p>Includes: Adventure Zone (4-12yrs), Toddler Area (1-4yrs)</p>
                    <p><i class="fa-solid fa-phone icon"></i> 01 8025906</p>
                    <p><i class="fa-solid fa-envelope icon"></i> westmanstown.fitzone@westwood.ie</p>
                    <a href="booking.html?location=westmanstown" class="button">BOOK WESTMANSTOWN</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-about">
                <!-- <img src="images/logo-white.png" alt="Fitzone Logo"> Placeholder: Add white logo -->
                <h3>Fitzone Parties</h3>
                <p>Creating unforgettable, action-packed party experiences for kids across Dublin. Part of the West Wood Club family.</p>
            </div>
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="packages.html">Party Packages</a></li>
                    <li><a href="locations.html">Locations</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="summer-camp.html">Summer Camp</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="booking.html">Book Now</a></li> <!-- Added Book Now -->
                    <li><a href="#">Privacy Policy</a></li> <!-- Placeholder -->
                    <li><a href="#">Terms & Conditions</a></li> <!-- Placeholder -->
                </ul>
            </div>
            <div class="footer-contact">
                <h3>Contact Us</h3>
                <p><i class="fas fa-map-marker-alt icon"></i> Multiple Locations (See Locations page)</p>
                <p><i class="fas fa-phone icon"></i> <a href="tel:012191827">Leopardstown: 01 2191827</a></p>
                <p><i class="fas fa-phone icon"></i> <a href="tel:018530353">Clontarf: 01 8530353</a></p>
                <p><i class="fas fa-phone icon"></i> <a href="tel:018025906">Westmanstown: 01 8025906</a></p>
                <p><i class="fas fa-envelope icon"></i> <a href="mailto:info@fitzoneparties.ie">info@fitzoneparties.ie</a></p>
            </div>
            <div class="footer-social">
                <h3>Follow Us</h3>
                <a href="#" class="social-icon" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-icon" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <!-- Add other social links -->
            </div>
        </div>
        <div class="footer-bottom">
            &copy; <span id="current-year"></span> Fitzone Parties | Powered by West Wood Club. All Rights Reserved.
        </div>
    </footer>

    <!-- Chat Assistant -->
    <div class="chat-assistant">
        <div class="chat-icon" id="chat-icon" aria-label="Open Chat">
            <i class="fas fa-comments"></i>
        </div>
        <div class="chat-popup" id="chat-popup">
            <div class="chat-header">
                <h4>Fitzone Helper</h4>
                <button class="close-chat" id="close-chat" aria-label="Close Chat">&times;</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be loaded here by JS -->
            </div>
            <div class="quick-replies" id="quick-replies">
                <!-- Quick replies loaded by JS -->
            </div>
            <div class="chat-input">
                <form id="chat-input-form">
                    <input type="text" id="chat-input-field" placeholder="Type your message...">
                    <button type="submit" aria-label="Send Message"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Main JavaScript -->
    <script src="script.js"></script>

    <!-- Dynamic Locations Loading -->
    <script type="module">
        import { getLocations } from './supabase.js';

        // Load locations dynamically from Supabase
        async function loadLocations() {
            try {
                const result = await getLocations();
                if (result.success && result.data.length > 0) {
                    renderLocations(result.data);
                } else {
                    console.warn('No locations loaded from Supabase, keeping static content');
                }
            } catch (error) {
                console.error('Error loading locations:', error);
                console.warn('Keeping static content due to error');
            }
        }

        function renderLocations(locations) {
            const locationContainer = document.querySelector('.location-cards');
            if (!locationContainer) return;

            // Only replace content if we have locations from database
            if (locations.length === 0) return;

            locationContainer.innerHTML = locations.map(location => {
                return `
                    <div class="card">
                        <img src="${location.image_url || 'images/img-035.jpg'}" alt="${location.name}">
                        <h3>${location.name}</h3>
                        <p>${location.description || 'Amazing party venue with exciting activities for kids!'}</p>
                        ${location.phone ? `<p><i class="fa-solid fa-phone icon"></i> ${location.phone}</p>` : ''}
                        ${location.email ? `<p><i class="fa-solid fa-envelope icon"></i> ${location.email}</p>` : ''}
                        <a href="booking.html?location=${encodeURIComponent(location.name.toLowerCase().replace(/\s+/g, '_'))}" class="button">BOOK ${location.name.toUpperCase()}</a>
                    </div>
                `;
            }).join('');
        }

        // Load locations when page loads
        document.addEventListener('DOMContentLoaded', loadLocations);
    </script>

    <script>
        // Set current year in footer
        document.getElementById("current-year").textContent = new Date().getFullYear();

        // Set active navigation link based on body data attribute
        const currentPage = document.body.getAttribute("data-page");
        if (currentPage) {
            const activeLink = document.querySelector(`.nav-link[data-page="${currentPage}"]`);
            if (activeLink) {
                activeLink.classList.add("active");
            }
        }
    </script>
</body>
</html>
